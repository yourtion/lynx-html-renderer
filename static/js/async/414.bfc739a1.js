"use strict";(self.webpackChunklynx_html_renderer=self.webpackChunklynx_html_renderer||[]).push([["414"],{638:function(e,n,r){r.r(n),r.d(n,{default:()=>a});var d=r(2676),i=r(453);function s(e){let n=Object.assign({h1:"h1",a:"a",blockquote:"blockquote",p:"p",strong:"strong",hr:"hr",h2:"h2",h3:"h3",ul:"ul",li:"li",code:"code",pre:"pre",h4:"h4",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",ol:"ol"},(0,i.ah)(),e.components);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(n.h1,{id:"lynxhtmlrenderer-架构设计文档",children:["LynxHTMLRenderer 架构设计文档",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#lynxhtmlrenderer-架构设计文档",children:"#"})]}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:["目标：将 ",(0,d.jsx)(n.strong,{children:"HTML 字符串"})," 转换并渲染为 ",(0,d.jsx)(n.strong,{children:"Lynx 原生组件树"}),"，支持 ",(0,d.jsx)(n.strong,{children:"安全子集渲染"}),"、",(0,d.jsx)(n.strong,{children:"模块化扩展"})," 与 ",(0,d.jsx)(n.strong,{children:"用户自定义标签/样式处理"}),"。"]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h2,{id:"1-设计目标与边界",children:["1. 设计目标与边界",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#1-设计目标与边界",children:"#"})]}),"\n",(0,d.jsxs)(n.h3,{id:"11-核心目标",children:["1.1 核心目标",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#11-核心目标",children:"#"})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["将 ",(0,d.jsx)(n.strong,{children:"HTML"})," 转换为 ",(0,d.jsx)(n.strong,{children:"Lynx 可渲染的原生组件树"})]}),"\n",(0,d.jsxs)(n.li,{children:["支持用户：","\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"自定义标签渲染"}),"\n",(0,d.jsx)(n.li,{children:"替换内置渲染组件"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["支持真实业务中常见页面：","\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"文本流 / 图片"}),"\n",(0,d.jsx)(n.li,{children:"Flex 布局"}),"\n",(0,d.jsx)(n.li,{children:"基础表格"}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.li,{children:"架构具备长期演进能力，而非一次性富文本实现"}),"\n"]}),"\n",(0,d.jsxs)(n.h3,{id:"12-明确不做的事情阶段性",children:["1.2 明确不做的事情（阶段性）",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#12-明确不做的事情阶段性",children:"#"})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"不实现完整 CSS / Layout 引擎"}),"\n",(0,d.jsxs)(n.li,{children:["不执行 JS（",(0,d.jsx)(n.code,{children:"script"})," / inline handler）"]}),"\n",(0,d.jsx)(n.li,{children:"不追求浏览器级像素一致"}),"\n",(0,d.jsx)(n.li,{children:"不做 DOM diff / hydration"}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h2,{id:"2-总体架构",children:["2. 总体架构",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2-总体架构",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"HTML String\n   │\n   ▼\nHTML Parser（第三方，如 htmlparser2）\n   │\n   ▼\nHTML AST\n   │\n   ▼\nTransform Pipeline（插件化）\n   │\n   ▼\nLynxNode Tree（Capability-based IR）\n   │\n   ▼\nRenderer（Adapter / Mapping）\n   │\n   ▼\nLynx Runtime\n"})}),"\n",(0,d.jsxs)(n.h3,{id:"架构核心思想",children:["架构核心思想",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#架构核心思想",children:"#"})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"HTML AST"}),"：语法结构（不可控）"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"LynxNode"}),"：语义结构（可控、稳定）"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Renderer"}),"：展示策略（可替换）"]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h2,{id:"3-lynxnodecapability-based-ir-设计",children:["3. LynxNode：Capability-based IR 设计",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#3-lynxnodecapability-based-ir-设计",children:"#"})]}),"\n",(0,d.jsxs)(n.h3,{id:"31-设计原则",children:["3.1 设计原则",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#31-设计原则",children:"#"})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Node 类型尽量少（element / text）"}),"\n",(0,d.jsxs)(n.li,{children:["能力通过 ",(0,d.jsx)(n.strong,{children:"capability / role"})," 描述"]}),"\n",(0,d.jsx)(n.li,{children:"不提前绑定具体渲染实现"}),"\n",(0,d.jsx)(n.li,{children:"为表格、富文本、扩展组件预留空间"}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h3,{id:"32-基础类型定义",children:["3.2 基础类型定义",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#32-基础类型定义",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"type LynxNode = LynxElementNode | LynxTextNode;\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"lynxbasenode",children:["LynxBaseNode",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#lynxbasenode",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"interface LynxBaseNode {\n  kind: string;\n  meta?: Record<string, any>; // 调试、插件扩展、来源信息\n}\n"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h3,{id:"33-lynxelementnode",children:["3.3 LynxElementNode",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#33-lynxelementnode",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"interface LynxElementNode extends LynxBaseNode {\n  kind: 'element';\n\n  tag: string;               // 逻辑标签，如 view / text / image / table\n  props: LynxProps;          // 已归一化 props（含 style）\n  children: LynxNode[];\n\n  role?: ElementRole;        // 结构语义\n  capabilities?: Capabilities;\n}\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"elementrole结构角色",children:["ElementRole（结构角色）",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#elementrole结构角色",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"type ElementRole =\n  | 'block'\n  | 'inline'\n  | 'textContainer'\n  | 'image'\n  | 'table'\n  | 'row'\n  | 'cell';\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"capabilities能力描述",children:["Capabilities（能力描述）",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#capabilities能力描述",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"interface Capabilities {\n  layout?: 'block' | 'inline' | 'flex' | 'table';\n  isVoid?: boolean;           // 如 img / br\n  textContainer?: boolean;    // 是否只能包含 text\n}\n"})}),"\n",(0,d.jsxs)(n.p,{children:["\uD83D\uDCCC ",(0,d.jsx)(n.strong,{children:"说明"}),"："]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"role"})," 用于快速结构判断（MVP）"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"capabilities"})," 用于后期精细控制"]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h3,{id:"34-lynxtextnode",children:["3.4 LynxTextNode",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#34-lynxtextnode",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"interface LynxTextNode extends LynxBaseNode {\n  kind: 'text';\n  content: string;\n\n  marks?: {\n    bold?: boolean;\n    italic?: boolean;\n    underline?: boolean;\n    code?: boolean;\n  };\n}\n"})}),"\n",(0,d.jsxs)(n.p,{children:["用于承载：",(0,d.jsx)(n.code,{children:"strong / em / code / span"})," 等语义。"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h2,{id:"4-transform-pipelinehtml--lynxnode",children:["4. Transform Pipeline（HTML → LynxNode）",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#4-transform-pipelinehtml--lynxnode",children:"#"})]}),"\n",(0,d.jsxs)(n.h3,{id:"41-transform-职责",children:["4.1 Transform 职责",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#41-transform-职责",children:"#"})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"遍历 HTML AST"}),"\n",(0,d.jsx)(n.li,{children:"标签语义映射（HTML → Lynx）"}),"\n",(0,d.jsx)(n.li,{children:"样式解析（style string → style object）"}),"\n",(0,d.jsx)(n.li,{children:"结构规整（尤其是 table）"}),"\n",(0,d.jsx)(n.li,{children:"生成 LynxNode（不涉及渲染）"}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h3,{id:"42-transform-阶段核心约束",children:["4.2 Transform 阶段核心约束",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#42-transform-阶段核心约束",children:"#"})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["不支持标签直接丢弃（",(0,d.jsx)(n.code,{children:"script / style"}),"）"]}),"\n",(0,d.jsx)(n.li,{children:"不支持样式直接忽略"}),"\n",(0,d.jsxs)(n.li,{children:["Transform 输出 ",(0,d.jsx)(n.strong,{children:"结构合法的 LynxNode Tree"})]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h3,{id:"43-表格的-transform-策略关键",children:["4.3 表格的 Transform 策略（关键）",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#43-表格的-transform-策略关键",children:"#"})]}),"\n",(0,d.jsxs)(n.h4,{id:"html-表格输入",children:["HTML 表格输入",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#html-表格输入",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"<table>\n  <thead>...</thead>\n  <tbody>...</tbody>\n</table>\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"transform-后结构",children:["Transform 后结构",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#transform-后结构",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"ElementNode (role: table)\n ├── ElementNode (role: row)\n │    ├── ElementNode (role: cell)\n │    └── ElementNode (role: cell)\n"})}),"\n",(0,d.jsx)(n.p,{children:"Transform 阶段负责："}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["展平 ",(0,d.jsx)(n.code,{children:"thead / tbody / tfoot"})]}),"\n",(0,d.jsxs)(n.li,{children:["统一为 ",(0,d.jsx)(n.code,{children:"table → row → cell"})]}),"\n",(0,d.jsxs)(n.li,{children:["保留 ",(0,d.jsx)(n.code,{children:"rowSpan / colSpan"})," 语义"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"Renderer 不关心 HTML 表格细节。"}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h2,{id:"5-插件机制transform-扩展点",children:["5. 插件机制（Transform 扩展点）",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#5-插件机制transform-扩展点",children:"#"})]}),"\n",(0,d.jsxs)(n.h3,{id:"51-插件目标",children:["5.1 插件目标",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#51-插件目标",children:"#"})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"解耦 transform 规则"}),"\n",(0,d.jsx)(n.li,{children:"支持用户覆盖标签处理逻辑"}),"\n",(0,d.jsx)(n.li,{children:"保持核心 transform 简洁"}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h3,{id:"52-插件接口概念",children:["5.2 插件接口（概念）",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#52-插件接口概念",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"interface HtmlToLynxPlugin {\n  name: string;\n  priority?: number;\n  setup(ctx: TransformContext): void;\n}\n"})}),"\n",(0,d.jsx)(n.p,{children:"插件可注册："}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"tag handler"}),"\n",(0,d.jsx)(n.li,{children:"style handler"}),"\n",(0,d.jsx)(n.li,{children:"node post-processor"}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h3,{id:"53-插件执行模型",children:["5.3 插件执行模型",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#53-插件执行模型",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"HTML AST Node\n   │\n   ├─ plugin.beforeTransform\n   ├─ plugin.transform（可 short-circuit）\n   └─ plugin.afterTransform\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"按 priority 执行"}),"\n",(0,d.jsx)(n.li,{children:"任一插件返回 LynxNode 即终止默认逻辑"}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h2,{id:"6-rendereradapter--mapping-机制",children:["6. Renderer：Adapter / Mapping 机制",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#6-rendereradapter--mapping-机制",children:"#"})]}),"\n",(0,d.jsxs)(n.h3,{id:"61-renderer-的定位",children:["6.1 Renderer 的定位",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#61-renderer-的定位",children:"#"})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"消费 LynxNode"}),"\n",(0,d.jsx)(n.li,{children:"决定「如何画」"}),"\n",(0,d.jsx)(n.li,{children:"不理解 HTML、不依赖 Transform 细节"}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h3,{id:"62-renderer-adapter-接口",children:["6.2 Renderer Adapter 接口",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#62-renderer-adapter-接口",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"interface LynxRenderAdapter {\n  match(node: LynxElementNode): boolean;\n  render(node: LynxElementNode, ctx: RenderContext): any;\n}\n"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h3,{id:"63-adapter-resolution",children:["6.3 Adapter Resolution",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#63-adapter-resolution",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"function resolveAdapter(node: LynxElementNode): LynxRenderAdapter {\n  // 用户 adapter 优先\n  // 内置 adapter 兜底\n}\n"})}),"\n",(0,d.jsx)(n.p,{children:"支持："}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"table → CustomTableComponent"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"img → LazyImage"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"a → 自定义跳转组件"})}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h2,{id:"7-transform-与-renderer-的边界",children:["7. Transform 与 Renderer 的边界",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#7-transform-与-renderer-的边界",children:"#"})]}),"\n",(0,d.jsxs)(n.table,{children:["\n",(0,d.jsxs)(n.thead,{children:["\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.th,{children:"能力"}),"\n",(0,d.jsx)(n.th,{children:"Transform"}),"\n",(0,d.jsx)(n.th,{children:"Renderer"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.tbody,{children:["\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:"HTML 语义"}),"\n",(0,d.jsx)(n.td,{children:"✅"}),"\n",(0,d.jsx)(n.td,{children:"❌"}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:"样式解析"}),"\n",(0,d.jsx)(n.td,{children:"✅"}),"\n",(0,d.jsx)(n.td,{children:"❌"}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:"结构规整"}),"\n",(0,d.jsx)(n.td,{children:"✅"}),"\n",(0,d.jsx)(n.td,{children:"❌"}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:"组件选择"}),"\n",(0,d.jsx)(n.td,{children:"❌"}),"\n",(0,d.jsx)(n.td,{children:"✅"}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:"具体布局"}),"\n",(0,d.jsx)(n.td,{children:"❌"}),"\n",(0,d.jsx)(n.td,{children:"✅"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h2,{id:"8-内置能力划分建议",children:["8. 内置能力划分建议",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#8-内置能力划分建议",children:"#"})]}),"\n",(0,d.jsxs)(n.h3,{id:"81-内置-transform-plugin",children:["8.1 内置 Transform Plugin",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#81-内置-transform-plugin",children:"#"})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"BaseTagPlugin"}),"\n",(0,d.jsx)(n.li,{children:"TextSemanticPlugin"}),"\n",(0,d.jsx)(n.li,{children:"TableNormalizePlugin"}),"\n",(0,d.jsx)(n.li,{children:"UnsafeTagPlugin"}),"\n"]}),"\n",(0,d.jsxs)(n.h3,{id:"82-内置-renderer-adapter",children:["8.2 内置 Renderer Adapter",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#82-内置-renderer-adapter",children:"#"})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"ViewAdapter"}),"\n",(0,d.jsx)(n.li,{children:"TextAdapter"}),"\n",(0,d.jsx)(n.li,{children:"ImageAdapter"}),"\n",(0,d.jsx)(n.li,{children:"TableAdapter（基础实现）"}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h2,{id:"9-mvp-实现顺序强烈建议",children:["9. MVP 实现顺序（强烈建议）",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#9-mvp-实现顺序强烈建议",children:"#"})]}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsx)(n.li,{children:"Capability-based LynxNode 定义"}),"\n",(0,d.jsx)(n.li,{children:"无插件版 Transform（hardcode tag / role）"}),"\n",(0,d.jsx)(n.li,{children:"基础 Renderer + Adapter mapping"}),"\n",(0,d.jsx)(n.li,{children:"表格 Transform + TableAdapter"}),"\n",(0,d.jsx)(n.li,{children:"插件系统接入（不改现有行为）"}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h2,{id:"10-总结",children:["10. 总结",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#10-总结",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"该架构本质是一个："}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"HTML → 语义 IR → 可替换 Native Renderer 的编译管线"})}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"通过："}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Capability-based LynxNode"}),"\n",(0,d.jsx)(n.li,{children:"Transform / Renderer 解耦"}),"\n",(0,d.jsx)(n.li,{children:"Adapter + Plugin 双扩展点"}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:["可以在保证安全、可控的前提下，覆盖 ",(0,d.jsx)(n.strong,{children:"大多数真实页面的渲染需求"}),"，同时为业务定制与长期演进留足空间。"]}),"\n",(0,d.jsx)(n.p,{children:"这是一个「可以长期维护」而不是「一次性富文本」的架构。"})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(s,{...e})}):s(e)}let a=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["architecture.md"]={toc:[{text:"1. 设计目标与边界",id:"1-设计目标与边界",depth:2},{text:"1.1 核心目标",id:"11-核心目标",depth:3},{text:"1.2 明确不做的事情（阶段性）",id:"12-明确不做的事情阶段性",depth:3},{text:"2. 总体架构",id:"2-总体架构",depth:2},{text:"架构核心思想",id:"架构核心思想",depth:3},{text:"3. LynxNode：Capability-based IR 设计",id:"3-lynxnodecapability-based-ir-设计",depth:2},{text:"3.1 设计原则",id:"31-设计原则",depth:3},{text:"3.2 基础类型定义",id:"32-基础类型定义",depth:3},{text:"LynxBaseNode",id:"lynxbasenode",depth:4},{text:"3.3 LynxElementNode",id:"33-lynxelementnode",depth:3},{text:"ElementRole（结构角色）",id:"elementrole结构角色",depth:4},{text:"Capabilities（能力描述）",id:"capabilities能力描述",depth:4},{text:"3.4 LynxTextNode",id:"34-lynxtextnode",depth:3},{text:"4. Transform Pipeline（HTML → LynxNode）",id:"4-transform-pipelinehtml--lynxnode",depth:2},{text:"4.1 Transform 职责",id:"41-transform-职责",depth:3},{text:"4.2 Transform 阶段核心约束",id:"42-transform-阶段核心约束",depth:3},{text:"4.3 表格的 Transform 策略（关键）",id:"43-表格的-transform-策略关键",depth:3},{text:"HTML 表格输入",id:"html-表格输入",depth:4},{text:"Transform 后结构",id:"transform-后结构",depth:4},{text:"5. 插件机制（Transform 扩展点）",id:"5-插件机制transform-扩展点",depth:2},{text:"5.1 插件目标",id:"51-插件目标",depth:3},{text:"5.2 插件接口（概念）",id:"52-插件接口概念",depth:3},{text:"5.3 插件执行模型",id:"53-插件执行模型",depth:3},{text:"6. Renderer：Adapter / Mapping 机制",id:"6-rendereradapter--mapping-机制",depth:2},{text:"6.1 Renderer 的定位",id:"61-renderer-的定位",depth:3},{text:"6.2 Renderer Adapter 接口",id:"62-renderer-adapter-接口",depth:3},{text:"6.3 Adapter Resolution",id:"63-adapter-resolution",depth:3},{text:"7. Transform 与 Renderer 的边界",id:"7-transform-与-renderer-的边界",depth:2},{text:"8. 内置能力划分建议",id:"8-内置能力划分建议",depth:2},{text:"8.1 内置 Transform Plugin",id:"81-内置-transform-plugin",depth:3},{text:"8.2 内置 Renderer Adapter",id:"82-内置-renderer-adapter",depth:3},{text:"9. MVP 实现顺序（强烈建议）",id:"9-mvp-实现顺序强烈建议",depth:2},{text:"10. 总结",id:"10-总结",depth:2}],title:"LynxHTMLRenderer 架构设计文档",headingTitle:"LynxHTMLRenderer 架构设计文档",frontmatter:{}}}}]);